# Prevent spl linking errors
CONFIG_LTO=y

# CONFIG_ENV_IS_IN_FAT is not set
# CONFIG_ENV_IS_IN_EXT4 is not set
# CONFIG_USE_ENV_MMC_PARTITION is not set
# CONFIG_ENV_MMC_USE_DT is not set
CONFIG_ENV_IS_IN_MMC=y
CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
CONFIG_ENV_OFFSET=0x260000
CONFIG_ENV_OFFSET_REDUND=0x280000
CONFIG_ENV_SIZE=0x20000
CONFIG_BOOTCOUNT_LIMIT=y
CONFIG_BOOTCOUNT_ENV=y

#
# Mender options
#

#
# Rootfs information
#
CONFIG_MENDER_BOOT_PART_NUMBER_HEX=1
CONFIG_MENDER_ROOTFS_PART_A_NUMBER=1
CONFIG_MENDER_ROOTFS_PART_A_NUMBER_HEX=1
CONFIG_MENDER_ROOTFS_PART_A_NAME="/dev/mmcblk0p1"
CONFIG_MENDER_ROOTFS_PART_B_NUMBER=2
CONFIG_MENDER_ROOTFS_PART_B_NUMBER_HEX=2
CONFIG_MENDER_ROOTFS_PART_B_NAME="/dev/mmcblk0p2"
CONFIG_MENDER_UBOOT_STORAGE_INTERFACE="mmc"
CONFIG_MENDER_UBOOT_STORAGE_DEVICE=0

#
# Environment information
#
CONFIG_MENDER_STORAGE_DEVICE_BASE="/dev/mmcblk0p"
CONFIG_MENDER_UBOOT_ENV_STORAGE_DEVICE_OFFSET_1=0x260000
CONFIG_MENDER_UBOOT_ENV_STORAGE_DEVICE_OFFSET_2=0x280000
CONFIG_MENDER_BOOTENV_SIZE=0x20000

#
# Kernel variables
#
CONFIG_MENDER_LINUX_LOAD_ADDR="0x82000000"
CONFIG_MENDER_FDT_LOAD_ADDR="0x88000000"
CONFIG_MENDER_BOOT_KERNEL_TYPE="bootz"
CONFIG_MENDER_KERNEL_NAME="zImage"
CONFIG_MENDER_DTB_NAME="am335x-boneblack.dtb"

#
# Optional settings
#
CONFIG_MENDER_UBOOT_PRE_SETUP_COMMANDS="run findfdt; setenv mender_dtb_name ${fdtfile}; setenv bootargs ${bootargs} rootwait"
CONFIG_MENDER_UBOOT_POST_SETUP_COMMANDS=""
